Ping:
  handler: com.serverless.pingHandler.Ping
  events:
    - http:
        path: /ping
        cors: true
        method: get


Node:
  handler: com.serverless.nodeHandlers.NodeHandler
  events:
    - httpApi:
        path: /node/{id}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /node
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /node/{id}
        method: delete
        authorizer: mexAuthorizer

    - httpApi:
        path: /node/{id}/append
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /node/workspace/{workspaceID}/namespace/{namespaceID}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /node/workspace/{workspaceId}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /node/{id}/blockUpdate
        method: post
        authorizer: mexAuthorizer


Namespace:
  handler: com.serverless.namespaceHandlers.NamespaceHandler
  events:
    - httpApi:
        path: /namespace/{id}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /namespace
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /namespace/update
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /namespace/{id}
        method: delete
        authorizer: mexAuthorizer

    - httpApi:
        path: /namespace/data/{ids}
        method: get
        authorizer: mexAuthorizer



Workspace:
  handler: com.serverless.workspaceHandlers.WorkspaceHandler
  events:
    - httpApi:
        path: /workspace/{id}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /workspace
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /workspace/update
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /workspace/{id}
        method: delete
        authorizer: mexAuthorizer

    - httpApi:
        path: /workspace/data/{ids}
        method: get
        authorizer: mexAuthorizer

User:
  handler: com.serverless.userHandlers.UserHandler
  events:
    - httpApi:
        path: /user/{id}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /user
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /user/update
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /user/{id}
        method: delete
        authorizer: mexAuthorizer

    - httpApi:
        path: /user/namespace/{id}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /user/workspace/{id}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path : /user/register
        method: post
        authorizer: mexAuthorizer



UserIdentifierRecord:
  handler: com.serverless.userIdentifierMappingHandlers.UserIdentifierMappingHandler
  events:
    - httpApi:
        path: /userIdentifierMappingRecord
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /userIdentifierMappingRecord/{userID}/{identifierID}
        method: delete
        authorizer: mexAuthorizer

    - httpApi:
        path: /userRecords/{userID}
        method: get
        authorizer: mexAuthorizer

    - httpApi:
        path: /userIdentifierMappingRecord/bookmark/{userID}/{nodeID}
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /userIdentifierMappingRecord/bookmark/{userID}/{nodeID}
        method: patch
        authorizer: mexAuthorizer

    - httpApi:
        path: /userIdentifierMappingRecord/bookmark/{userID}
        method: get

    - httpApi:
        path: /userIdentifierMappingRecord/bookmark/batch/{userID}/{ids}
        method: post
        authorizer: mexAuthorizer

    - httpApi:
        path: /userIdentifierMappingRecord/bookmark/batch/{userID}/{ids}
        method: patch
        authorizer: mexAuthorizer
